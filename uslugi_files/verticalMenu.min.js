define("verticalMenu/components/verticalMenuDomBuilder",["react","lodash","zepto","utils"],function(a,b,c,d){"use strict";function e(a,b){var c;if(a.link&&a.link.type==="PageLink"&&a.link.pageId.id===b){return true}for(c=0;c<a.items.length;c++){if(e(a.items[c],b)){return true}}return false}function f(a){var b=c(a.target).find("a")[0];if(b){b.click();return false}return true}function g(a,c,e,f,g,h,i,j,k){var l={};l[c+"_selected"]=e;l[c+"_hover"]=d.stringUtils.startsWith(h,g);l[a]=true;var m={className:d.classNames(l),style:{height:f},onClick:j?i.click:i.leave,id:g,key:g};if(k){b.assign(m,{onMouseEnter:i.enter,onMouseLeave:i.leave})}return m}function h(a,b,c,d){return{style:{marginBottom:d+"px"},className:a?b:b+" "+c+"_emptySubMenu"}}function i(a,c,d,e,f,g,h){var i={className:a+" "+c+"_label level"+f,style:{lineHeight:d+"px"},onClick:h?g.click:g.leave};if(e){b.merge(i,e.render)}return i}function j(a){if(b.includes(a.className,"Wrapper")){a.onClick=f}}var k={getSkin:function(a,b){return a[b]},buildTemplate:function(a,c){var d=a.slice(3,a.length),e=[];b.forEach(d,function(a){if(b.isArray(a)){e.push(this.buildTemplate(a,c))}}.bind(this));return{tag:a[0].toLowerCase(),skinPart:a[1],className:b.map(a[2],function(a){return c+a}),items:e}},buildDomItem:function(c,d,f,k,l,m,n,o,p,q,r,s){var t=a.DOM[d.tag];var u=[];var v={className:d.className.concat(k.link?"":l+"_noLink").join(" ")};var w=p+f.indexOf(k)+"_";var x=b.filter(k.items,{isVisible:true}).length>0;switch(d.tag){case"a":u.push(k.label);v=i(v.className,l,n.line,k.link,o,r,x);break;case"ul":b.forEach(k.items,function(a){if(a.isVisible){u.push(this.buildDomItem(c,c,k.items,a,l,m,n,o+1,w,q,r,s))}}.bind(this));v=h(x,v.className,l,n.separator);break;case"li":b.forEach(d.items,function(a){u.push(this.buildDomItem(c,a,f,k,l,m,n,o,p,q,r,s))}.bind(this));v=g(v.className,l,e(k,m),n.item,w,q,r,x,s);break;default:b.forEach(d.items,function(a){u.push(this.buildDomItem(c,a,f,k,l,m,n,o,p,q,r,s))}.bind(this));break}j(v);if(d.tag==="ul"){return t(v,u)}return t.apply(null,[v].concat(u))},buildDOMFromTemplate:function(c,d,e,f,g,h,i,j){var k=c.items[0];var l=b(d).filter("isVisible").map(function(a){return this.buildDomItem(k,k,d,a,e,f,g,0,"root",h,i,j)}.bind(this)).value();return a.DOM.ul({className:e+"menuContainer"},l)}};return k});define("verticalMenu/components/verticalMenuItem",["skins","verticalMenu/components/verticalMenuDomBuilder"],function(a,b){"use strict";var c={displayName:"MenuItem",render:function(){var c=b.getSkin(a.skins,this.props.skin),d=b.buildTemplate(c.react[0],this.props.classPrefix);return b.buildDOMFromTemplate(d,this.props.data,this.props.classPrefix,this.props.currentUrlPageId,this.props.heights,this.props.hoverId,this.props.callbacks,this.props.isDesktop,this.props.isIE)}};return c});define("verticalMenu",["zepto","lodash","react","core","utils","verticalMenu/components/verticalMenuItem","reactDOM","santaProps"],function(a,b,c,d,e,f,g,h){"use strict";var i=d.compMixins;var j=c.createFactory(c.createClass(f));function k(b){var c=n(b.target);var d=c.id;var e=a(c).find("ul")[0].children.length>0;var f=d===this.state.hoverId;if(e){if(f){this.setState({hoverId:null})}else{this.setState({hoverId:d});b.preventDefault()}}else{this.setState({hoverId:null})}}function l(a){var b=n(a.target).id;if(b!==this.state.hoverId){this.setState({hoverId:b})}}function m(){this.setState({hoverId:null})}function n(a){while(a.tagName!=="LI"){a=a.parentElement}return a}return{displayName:"VerticalMenu",mixins:[i.skinBasedComp,i.skinInfo],propTypes:{browser:h.Types.Browser.browser.isRequired,isMobileDevice:h.Types.Device.isMobileDevice,isTabletDevice:h.Types.Device.isTabletDevice,siteMenuWithRender:h.Types.Menu.siteMenuWithRender,currentUrlPageId:h.Types.Component.currentUrlPageId.isRequired,compData:h.Types.Component.compData,compProp:h.Types.Component.compProp,styleId:h.Types.Component.styleId,skin:h.Types.Component.skin,style:h.Types.Component.style},statics:{useSantaTypes:true},getInitialState:function(){return{$subMenuOpenSide:"subMenuOpenSide-"+this.props.compProp.subMenuOpenSide,$itemsAlignment:"items-align-"+this.props.compProp.itemsAlignment,$subItemsAlignment:"subItems-align-"+this.props.compProp.itemsAlignment,hoverId:null}},componentWillReceiveProps:function(a){if(a.compProp.itemsAlignment!==this.props.compProp.itemsAlignment){this.setState({$itemsAlignment:"items-align-"+a.compProp.itemsAlignment,$subItemsAlignment:"subItems-align-"+a.compProp.itemsAlignment})}if(a.compProp.subMenuOpenSide!==this.props.compProp.subMenuOpenSide){this.setState({$subMenuOpenSide:"subMenuOpenSide-"+a.compProp.subMenuOpenSide})}},updateDOMDataAttributes:function(){var a=g.findDOMNode(this);var b=this.getParamValues();this.lastParams=b;a.setAttribute("data-param-border",b.border);a.setAttribute("data-param-separator",b.separator);a.setAttribute("data-param-padding",b.padding)},componentDidMount:function(){this.updateDOMDataAttributes()},componentDidUpdate:function(){if(!b.isEqual(this.getParamValues(),this.lastParams)){this.updateDOMDataAttributes()}},getParamValues:function(){var a=this.getParamFromDefaultSkin("separatorHeight")||this.getParamFromDefaultSkin("sepw");var b=this.getParamFromDefaultSkin("textSpacing");var c=this.getParamFromDefaultSkin("brw");return{separator:a?parseInt(a.value,10):0,border:c?parseInt(c.value,10):0,padding:b?parseInt(b.value,10):0}},getSkinProperties:function(){var a=this.getParamValues();var b=this.getSkinExports();var c=this.props.siteMenuWithRender;var d=e.verticalMenuCalculations.getVisibleItemsCount(c);var f=e.verticalMenuCalculations.getItemHeight(this.props.style.height,a.separator,d,b);return{"":{onMouseEnter:this.updateDirection},menuContainer:{parentConst:j,data:c,skin:this.props.skin,classPrefix:this.props.styleId,currentUrlPageId:this.props.currentUrlPageId,heights:{separator:b&&b.separatorNotIncludedInLineHeight?0:a.separator,line:e.verticalMenuCalculations.getLineHeight(f,a.separator,a.border,b),item:f},callbacks:{click:k.bind(this),enter:l.bind(this),leave:m.bind(this)},hoverId:this.state.hoverId,isDesktop:!(this.props.isMobileDevice||this.props.isTabletDevice),isIE:!!this.props.browser.ie}}}}});