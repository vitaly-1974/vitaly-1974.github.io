define("imageZoom/bi/events.json",[],function(){return{ENTER_EXPAND_MODE:{eventId:376,adapter:"ugc-viewer",params:{site_id:"site_id"}}}});define("imageZoom",["react","lodash","core","santaProps","mediaZoom","utils","imageZoom/bi/events.json"],function(a,b,c,d,e,f,g){"use strict";return{displayName:"ImageZoom",mixins:[c.compMixins.mediaZoomWrapperMixin],propTypes:b.assign({id:d.Types.Component.id,compData:d.Types.Component.compData.isRequired,rootNavigationInfo:d.Types.Component.rootNavigationInfo.isRequired,reportBI:d.Types.reportBI.isRequired,siteId:d.Types.RendererModel.siteId.isRequired,siteWidth:d.Types.siteWidth,navigateToPage:d.Types.navigateToPage.isRequired,getScreenHeight:d.Types.getScreenHeight.isRequired,getScreenWidth:d.Types.getScreenWidth.isRequired,getWindowInnerHeight:d.Types.__DangerousSantaTypes.getWindowInnerHeight.isRequired,getCustomMeasureMap:d.Types.__DangerousSantaTypes.getCustomMeasureMap.isRequired,isMobileDevice:d.Types.Device.isMobileDevice,isTabletDevice:d.Types.Device.isTabletDevice,pageItemAdditionalData:a.PropTypes.object,galleryCompId:a.PropTypes.string},d.santaTypesUtils.getSantaTypesByDefinition(e)),statics:{useSantaTypes:true},isNonOptimizedView:function(){return this.props.isMobileDevice||this.props.isTabletDevice},fireEnterExpandModeEvent:function(){this.props.reportBI(g.ENTER_EXPAND_MODE,{site_id:this.props.siteId})},componentWillMount:function(){this.fireEnterExpandModeEvent()},getInitialState:function(){if(this.isNonOptimizedView()){this.enableInnerScrolling=true}return{}},getPrevAndNextState:function(){var a,c;var d=this.props.pageItemAdditionalData;var e={next:null,prev:null};if(d){a=b.map(d.items,"id");if(a.length>1){c=a.indexOf(this.props.compData.id);e.next=a[(c+1)%a.length];e.prev=a[(c-1+a.length)%a.length]}}return e},isDataChanged:function(a,b){return a.compData!==b.compData},getChildComp:function(a,c){var d={isMobileDevice:this.props.isMobileDevice,isTabletDevice:this.props.isTabletDevice,siteWidth:this.props.siteWidth};var e={width:this.props.getScreenWidth(),height:this.props.getScreenHeight(),innerHeight:this.props.getWindowInnerHeight()};var g=b.every(e);var h=this.isNonOptimizedView()?f.mediaZoomCalculations.getNonOptimizedViewDimensions:f.mediaZoomCalculations.getDesktopViewDimensions;var i={zoomDimensions:h(this.props.compData,d,g?e:null,c),quality:{quality:90}};b.assign(i,a);return this.createChildComponent(this.props.compData,"wysiwyg.components.ImageZoomDisplayer","imageItem",i)},getBoxDimensions:function(){return this.props.getCustomMeasureMap(this.props.id+this.props.compData.id)},actualNavigateToItem:function(a){if(f.nonPageItemZoom.getZoomedImageData()===undefined){var c=b.clone(this.props.rootNavigationInfo);c.pageItemId=a;this.props.navigateToPage(c)}else if(a){f.nonPageItemZoom.zoom(f.nonPageItemZoom.getImageDataFromGalleryByQuery(a))}else{f.nonPageItemZoom.unzoom()}},getChildZoomComponentType:function(){return"wysiwyg.viewer.components.MediaZoom"},getChildZoomExtraProps:function(){return b.pickBy({galleryCompId:this.props.galleryCompId})}}});