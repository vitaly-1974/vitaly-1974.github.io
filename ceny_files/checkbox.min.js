define("checkbox",["lodash","core","santaProps"],function(a,b,c){"use strict";var d=function(b){var c=a.get(this,"refs.input");return{validity:a.toPlainObject(a.get(c,"validity",{})),validationMessage:a.get(c,"validationMessage",""),valid:a.get(b,"valid",true)}};return{displayName:"Checkbox",propTypes:{compData:c.Types.Component.compData.isRequired,compProp:c.Types.Component.compProp.isRequired,shouldResetComponent:c.Types.RenderFlags.shouldResetComponent},mixins:[b.compMixins.skinBasedComp,b.compMixins.runTimeCompData,b.compMixins.compStateMixin(d),b.compMixins.inputFocusMixin],statics:{useSantaTypes:true,behaviors:a.assign({change:{methodName:"validate"},setCustomValidity:{methodName:"setCustomValidity",params:["customValidity"]}},b.compMixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},validate:function(){var a=this.props.compProp.required?this.refs.input.checked:true;this.setState({valid:a});this.handleAction("validate")},setCustomValidity:function(a){this.setState({customValidity:a})},getInitialState:function(){return a.assign(d(),{checked:false,valid:true,customValidity:""})},componentWillMount:function(){this.setState({checked:this.props.compData.checked,valid:this.props.compProp.required?this.props.compData.checked:true})},componentWillReceiveProps:function(a){var b={checked:a.compData.checked};if(a.renderFlags.componentViewMode==="editor"){b.valid=true}if(a.shouldResetComponent!==this.props.shouldResetComponent){b.customValidity=""}this.setState(b)},componentDidUpdate:function(a,b){if(b.customValidity!==this.state.customValidity){this.refs.input.setCustomValidity(this.state.customValidity)}},onChange:function(){if(this.props.compProp.readOnly||this.props.compProp.isDisabled){return}var a={checked:!this.state.checked};this.setState(a);this.updateData(a);this.handleAction("change",a);this.validate()},onFocus:function(){this.handleAction("focus")},onBlur:function(){this.handleAction("blur")},getSkinProperties:function(){return{"":{"data-error":!this.state.valid,"data-disabled":!!this.props.compProp.isDisabled},container:{tabIndex:0},input:{onFocus:this.onFocus,onBlur:this.onBlur,disabled:!!this.props.compProp.isDisabled,required:this.props.compProp.required,checked:this.state.checked,onChange:this.onChange,value:this.props.compData.value}}}}});