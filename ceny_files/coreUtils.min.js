define("coreUtils/core/ajaxLibrary",["lodash"],function(a){"use strict";var b=function(){throw"must register ajax function: zepto $.ajax for clientSide, or request() for serverSide"};function c(a){if(typeof a!=="function"){throw"ajaxMethod must be a function"}b=a}return{register:c,ajax:function(c){if(c.asForm){c.contentType="application/x-www-form-urlencoded"}else if(c.type==="POST"&&c.dataType==="json"&&a.isObject(c.data)&&!c.asForm){a.assign(c,{data:JSON.stringify(c.data),contentType:c.contentType||"application/json; charset=utf-8",processData:false})}return b(c)},get:function(a,c,d,e){if(typeof a==="object"){return b(a)}var f={url:a};if(c){f.data=c}if(d){f.success=d}if(e){f.dataType=e}return b(f)}}});define("coreUtils/core/domMeasurements",["zepto","lodash"],function(a,b){"use strict";function c(a){var b=window.getComputedStyle(a);return{top:parseFloat(b.getPropertyValue("border-top-width"),10),left:parseFloat(b.getPropertyValue("border-left-width"),10)}}function d(a,b){var d=a.offsetTop;var e=a.offsetLeft;var f=a.offsetWidth;var g=a.offsetHeight;var h={top:0,left:0};while(a.offsetParent){a=a.offsetParent;h=c(a);d+=h.top;e+=h.left;if(b&&a===b){break}d+=a.offsetTop;e+=a.offsetLeft}return{top:d,left:e,width:f,height:g,bottom:d+g,right:e+f}}function e(a,b,c){c=c||typeof window!=="undefined"&&window;var e=d(a,b);if(c){var f=c.pageYOffset||c.scrollTop||0;var g=c.pageXOffset||c.scrollLeft||0;e.top-=f;e.bottom-=f;e.left-=g;e.right-=g}return e}function f(c,e,g,h){h=h||d(c,e);g=g||a(c).children("div");b.forEach(g,function(b){var c=d(b,e);if(c.width>0&&c.height>0){if(c.left<h.left){h.left=c.left}if(c.right>h.right){h.right=c.right}if(c.top<h.top){h.top=c.top}if(c.bottom>h.bottom){h.bottom=c.bottom}}var g=a(b);var i=g.children("div");if(i.length&&g.css("overflow")!=="hidden"){f(b,e,i,h)}});h.width=h.right-h.left;h.height=h.bottom-h.top;return h}function g(a,b,c){c=c||typeof window!=="undefined"&&window;var d=f(a,b);if(c){var e=c.pageYOffset||c.scrollTop||0;var g=c.pageXOffset||c.scrollLeft||0;d.top-=e;d.bottom-=e;d.left-=g;d.right-=g}return d}return{getElementRect:d,getBoundingRect:e,getContentRect:f,getBoundingContentRect:g}});define("coreUtils/core/languages",[],function(){"use strict";return["de","en","es","fr","it","ja","ko","pl","ru","nl","tr","sv","pt","no","da","hi","zh","cs"]});define("coreUtils/core/wixUserApi",["lodash","coreUtils/core/languages","coreUtilsLib"],function(a,b,c){"use strict";var d=c.cookieUtils;var e="wixLanguage";var f="wixClient";function g(a){var b=d.parseCookieString(a)[f];if(b){var c=b.split("|");return{userName:c[0],email:c[1],mailStatus:c[2],permissions:c[3],isSessionNew:c[4],isSessionValid:c[5],userID:c[6]}}return null}function h(a){return d.parseCookieString(a)[e]}var i={getUsername:function(a){var b=a.requestModel.cookie;var c=g(b);return c?c.userName:null},getLanguage:function(c,d){var e=h(c);var f=d.query&&d.query.lang;var g=function(){var a=d.host.split(".");return a[0].length===2?a[0]:null};var i=function(){if(typeof window!=="undefined"&&typeof window.navigator!=="undefined"){return window.navigator.language||window.navigator.browserLanguage}};var j=f||g()||e||i();if(j){j=j.substring(0,2).toLowerCase()}return a.includes(b,j)?j:"en"},isSessionValid:function(a){return!!g(a)},logout:function(a){var b=window.document?window.document.location.host:"";b=b.substring(b.indexOf(".")+1);d.deleteCookie(f,b);if(typeof document!=="undefined"){a.requestModel.cookie=window.document.cookie}},getLanguages:function(){return b}};return i});define("coreUtils/core/imageAnalyzer",["lodash"],function(a){"use strict";var b={BRIGHTNESS:"brightness"};var c={INIT:"init",PENDING:"pending",COMPLETE:"complete"};function d(){a.forEach(b,function(a){this[a]={}}.bind(this))}d.prototype={getReqResult:function(a,b){var d=this[a][b];if(d&&d.status===c.COMPLETE){return d.result}return null},setReqResult:function(a,b,c){this[a][b]=this[a][b]||{};this[a][b].result=c},getReqStatus:function(a,b){var c=this[a][b];return c&&c.status||null},setReqStatus:function(a,b,c){this[a][b]=this[a][b]||{};this[a][b].status=c},remove:function(a,b){delete this[a][b]},registerCallbacksForResult:function(a,b,c,d){this[a][b]=this[a][b]||{};var e=this[a][b];e.callbacks=e.callbacks||{onSuccess:[],onError:[]};e.callbacks.onSuccess.push(c);e.callbacks.onError.push(d)},clearResultCallbacks:function(a,b){delete this[a][b].callbacks},getResultSuccessCallbacks:function(a,b){var c=this[a][b];return c&&c.callbacks&&c.callbacks.onSuccess||[]},getResultErrorCallbacks:function(a,b){var c=this[a][b];return c&&c.callbacks&&c.callbacks.onError||[]}};var e=new d;function f(a){var b=0;var c=a.length/4;for(var d=0;d<a.length;d+=4){var e=a[d]/255;var f=a[d+1]/255;var g=a[d+2]/255;var h=Math.max(e,f,g);var i=h*100;b+=i/c}return b}function g(a){var b=a.data;var c=f(b);postMessage(JSON.stringify(c))}function h(){var a=String(f);var b="onmessage = "+String(g)+";";return a+b}function i(a,b,c){var d=new window.Image;d.crossOrigin="Anonymous";d.onload=function(){b(d)};d.onerror=c;d.src=a}function j(a,b){var c=window.document.createElement("canvas");var d=c.getContext("2d");d.drawImage(a,0,0);return d.getImageData(0,0,b.width,b.height).data}function k(b,c,d){if(!window.Worker){d("Browser does not support Web Workers")}var e=new window.Blob([h()]);var f=window.URL.createObjectURL(e);var g=new window.Worker(f);g.onmessage=function(b){g.terminate();var e=JSON.parse(b.data);if(a.isFinite(e)){c(e)}else{d()}};g.onerror=d;g.postMessage(b)}function l(a,d,f,g){i(a,function h(i){e.setReqStatus(b.BRIGHTNESS,a,c.PENDING);var l=j(i,d);k(l,f,g)},g)}function m(){var a=window.document.createElement("canvas");return!!(a.getContext&&a.getContext("2d"))}function n(c){var d=e.getResultErrorCallbacks(b.BRIGHTNESS,c);e.remove(b.BRIGHTNESS,c);a.forEach(d,function(a){a()})}function o(d,f){var g=e.getResultSuccessCallbacks(b.BRIGHTNESS,d);e.setReqStatus(b.BRIGHTNESS,d,c.COMPLETE);e.setReqResult(b.BRIGHTNESS,d,f);a.forEach(g,function(a){a(f)});e.clearResultCallbacks(b.BRIGHTNESS,d)}function p(d,f,g,h){h=h||a.noop;g=g||a.noop;if(!m()){h("HTML5 <canvas> is not supported in this browser")}var i=e.getReqStatus(b.BRIGHTNESS,d);switch(i){case c.COMPLETE:var j=e.getReqResult(b.BRIGHTNESS,d);g(j);break;case null:e.setReqStatus(b.BRIGHTNESS,d,c.INIT);e.registerCallbacksForResult(b.BRIGHTNESS,d,g,h);l(d,f,a.partial(o,d),a.partial(n,d));break;default:e.registerCallbacksForResult(b.BRIGHTNESS,d,g,h);break}}return{getImageMeanBrightness:p}});define("coreUtils/core/imageUtils",["lodash","imageClientApi","coreUtils/core/imageAnalyzer"],function(a,b,c){"use strict";function d(b,c){var d=a.get(b,"query",{});var e=a(d).keys().find(function(b){return a.includes(["devicepixelratio"],b.toLowerCase())});var f=Number(d[e]);return f||c||1}function e(c,e,f,g,h){if(!c.containerWidth||!c.containerHeight||!c.imageData.uri){return{uri:"",css:{}}}var i=c.imageData;var j=c.displayMode||b.fittingTypes.SCALE_TO_FILL;var k=a.defaults(c.quality||{},i.quality);g=d(f,g);var l=a.assign(a.pick(i,["width","height","crop"]),{id:i.uri});var m={width:c.containerWidth,height:c.containerHeight,htmlTag:h||"img",pixelAspectRatio:g,alignment:c.alignType||b.alignTypes.CENTER};var n=b.getData(j,l,m,k);n.uri=e(n.uri);if(c.addItemProp){n.itemProp="image"}return n}function f(c,d,e){var f=d.width/d.height;var h,i,j;var k=e===b.fittingTypes.LEGACY_FIT_WIDTH;var l=e===b.fittingTypes.LEGACY_FIT_HEIGHT;if(k){j=c.width/f;h=g(c.width,j)}else if(l){i=c.height*f;h=g(i,c.height)}else{h=a.clone(c)}return h}function g(a,b){return{width:Math.ceil(a),exactWidth:a,height:Math.ceil(b),exactHeight:b}}return{getContainerSize:f,getImageComputedProperties:e,getImageMeanBrightness:c.getImageMeanBrightness}});define("coreUtils/core/scrollAnchorsUtils",["lodash","coreUtilsLib"],function(a,b){"use strict";var c=b.siteConstants;var d=-99999;var e=0;function f(a){var b=parseInt(a,10);return isNaN(b)?0:b}function g(a){return f(a.height.WIX_ADS)+f(a.top.WIX_ADS)}function h(b,c){var d=0;var e=c.measureMap;if(e&&b){var f=b.compId;var h=a.get(e,"custom.SITE_HEADER.isFixedPosition");var i=e.top[f];var j=e.absoluteTop[f];var k=h?i:j;var l=g(e);d=a.isFinite(k)?k+l:0}return d}function i(a){if(!a.measureMap){return Infinity}var b=a.measureMap;var c=b.siteMarginBottom||0;var d=g(b);var e=b.height.masterPage+c+d+a.renderFlags.extraSiteHeight;var f=b.height.screen;return Math.max(e-f,0)}function j(a,b){return Math.min(a,i(b))}function k(c,d,e){var f=e.getPageData(d);var g=b.dataUtils.getAllCompsInStructure(f.structure);return a.find(g,function(b){var d=b.connectionQuery;return d&&a.find(f.data.connections_data[d].items,{role:c})})}function l(b,c){var d;if(!a.startsWith(b,"dataItem")&&c){var e=c.getSiteData();var f=k(b,e.getPrimaryPageId(),e);if(f){d=f.dataQuery}}return d||b}function m(a,b){var c=b.getSiteData();var d=n(l(a,b),c);d.y=j(d.y,c);return d}function n(a,b){var d=0;if(a===c.PAGE_ANCHORS.TOP_ANCHOR_ID){d=e}else if(a===c.PAGE_ANCHORS.BOTTOM_ANCHOR_ID){d=b.isMobileView()?window.document.documentElement.scrollHeight:window.document.body.scrollHeight}else if(a){var f=b.getDataByQuery(a,b.getPrimaryPageId());d=h(f,b)}return{x:0,y:d,anchorQuery:a}}function o(b,c){var d=a.find(b.structure.components,{id:c});return d&&d.layout}function p(b,c,e){var f=b.getPageData(c);if(!f){return[]}var g=f.data.document_data;var h=a.filter(g,{type:"Anchor"});h.push(q(b.getPrimaryPageId(),e));return a.sortBy(h,function(a){var b=o(f,a.compId);return b?b.y:d})}function q(a,b){return{compId:c.PAGE_ANCHORS.TOP_ANCHOR_COMP_ID,id:c.PAGE_ANCHORS.TOP_ANCHOR_ID,name:b||"",type:"Anchor",pageId:a}}function r(b,c){c=c||[];var d=b.getPrimaryPageId();var e=p(b,d);var f=a.reject(e,function(b){return a.includes(c,b.compId)});return a.size(f)?f:[e[0]]}function s(b,c){return a(c).map(function(c){var d=n(c.id,b);var e=c.id;return a.assign(d,{id:e})}).sortBy("y").value()}function t(a,b,c){return{activeAnchorComp:a,index:b,total:c}}function u(b,c){var d=a.every(b,{y:0});if(d){return null}var e=null;var f=0;for(;f<b.length;f++){var g=b[f];if(c>=g.y){e=g}else{break}}if(e){return t(e,f-1,b.length)}return null}function v(b,c,d){if(!b.measureMap){return null}var e=r(b,d);var f=s(b,e);var g=u(f,c);if(g&&i(b)<=c){return t(a.last(f),f.length-1,f.length)}return g}function w(a){return a===c.PAGE_ANCHORS.BOTTOM_ANCHOR_ID||a===c.PAGE_ANCHORS.TOP_ANCHOR_ID}return{getPageTopAnchor:q,calcAnchorScrollToPosition:m,getPageAnchors:p,getActiveAnchor:v,getAnchor:k,normalizeYOffset:j,isSpecialAnchor:w,getSortedAnchorsByY:s,SCROLL_PAGE_TOP_Y_POS:d}});define("coreUtils/core/anchorTagsGenerator",["lodash","coreUtilsLib"],function(a,b){"use strict";var c=b.fragment;var d=b.textPatternRecognizer;var e=d.Pattern;function f(b,c){if(!a.some(c)){return b}var d=g(b);a.forEach(d.textNodes,a.partial(k,a,c));return d.container.innerHTML}function g(a){var b=c.document.createDocumentFragment();var d=b.appendChild(c.document.createElement("div"));d.innerHTML=a;var e=h(d);return{container:d,textNodes:e}}function h(a,b){b=b||[];if(i(a)){b.push(a)}if(j(a)){return b}a=a.firstChild;while(a){h(a,b);a=a.nextSibling}return b}function i(a){return a.nodeType===c.Node.TEXT_NODE}function j(a){return a.nodeType===c.Node.ELEMENT_NODE&&a.tagName.toLowerCase()==="a"}function k(b,e){var f=[];var g=b.parentNode;var h=b.data;var i=d.findAll(h,e);if(i.length===0){return}a(i).orderBy("index","desc").forEach(function(a){f.push(c.document.createTextNode(h.slice(a.index+a.key.length)));f.push(l(a));h=h.slice(0,a.index)});f.push(c.document.createTextNode(h));a.forEach(f.reverse(),function(a){g.insertBefore(a,b)});g.removeChild(b)}function l(b){var d=m(b);var e=c.document.createElement("a");e.innerHTML=b.key;e.classList.add(d.className);a.forEach(a.omit(d,["className"]),function(a,b){e.setAttribute(b,a)});var f=c.document.createElement("object");f.appendChild(e);f.setAttribute("height",0);return f}function m(b){var c={"data-auto-recognition":"true","data-content":b.key,className:"auto-generated-link"};switch(b.pattern){case d.Pattern.PHONE:return a.assign(c,{href:"tel:"+b.value,"data-type":"phone"});case d.Pattern.MAIL:return a.assign(c,{href:"mailto:"+b.value,"data-type":"mail"});case d.Pattern.URL:return a.assign(c,{href:b.value,target:"_blank","data-type":"external"});default:throw"Unknown Pattern: "+b.pattern}}function n(b,c){if(!a.some(c)){return[]}var e=g(b);return a(e.textNodes).map("data").flatMap(a.partial(d.findAll,a,c)).map(m).value()}function o(a,b){var c={};c[e.PHONE]=b;c[e.MAIL]=true;c[e.URL]=true;return c}return{generateAnchorsInHtml:f,findDataForAnchors:n,getIncludedPatterns:o}});define("coreUtils",["coreUtils/core/ajaxLibrary","coreUtils/core/domMeasurements","coreUtils/core/wixUserApi","coreUtils/core/languages","coreUtils/core/imageUtils","coreUtils/core/scrollAnchorsUtils","coreUtils/core/anchorTagsGenerator","coreUtilsLib"],function(a,b,c,d,e,f,g,h){"use strict";var i={renderDoneMixin:h.renderDoneMixin,htmlTransformer:h.htmlTransformer,textSecurityFixer:h.textSecurityFixer,htmlParser:h.htmlParser,throttleUtils:h.throttleUtils,keyboardUtils:h.keyboardUtils,classNames:h.classNames,cookieUtils:h.cookieUtils,imageUtils:e,tween:h.tween,urlUtils:h.urlUtils,Store:h.Store,mobileViewportFixer:h.mobileViewportFixer,dataUtils:h.dataUtils,dateTimeUtils:h.dateTimeUtils,validationUtils:h.validationUtils,ajaxLibrary:a,cssUtils:h.cssUtils,hashUtils:h.hashUtils,guidUtils:h.guidUtils,arrayUtils:h.arrayUtils,stringUtils:h.stringUtils,mediaZoomCalculations:h.mediaZoomCalculations,objectUtils:h.objectUtils,animationFrame:h.animationFrame,scrollAnchors:f,domMeasurements:b,storage:h.storage,style:h.style,galleriesCommonLayout:h.galleriesCommonLayout,requestsUtil:h.requestsUtil,boundingLayout:h.boundingLayout,verticalMenuCalculations:h.verticalMenuCalculations,nonPageItemZoom:h.nonPageItemZoom,appPartMediaInnerViewNameUtils:h.appPartMediaInnerViewNameUtils,reactComponentUtils:h.reactComponentUtils,dockUtils:h.dockUtils,viewportUtils:h.viewportUtils,containerBackgroundUtils:h.containerBackgroundUtils,math:h.math,functionUtils:h.functionUtils,mediaConsts:h.mediaConsts,balataConsts:h.mediaConsts.balataConsts,blogAppPartNames:h.blogAppPartNames,wixUserApi:c,languages:d,siteConstants:h.siteConstants,textPatternRecognizer:h.textPatternRecognizer,anchorTagsGenerator:g,errorPages:h.errorPages,logWixCodeConsoleMessage:h.logWixCodeConsoleMessage,matrix:{calculations:h.matrix.calculations,scalingCalculations:h.matrix.scalingCalculations},fragment:h.fragment,dynamicPagesUtils:h.dynamicPagesUtils,Screenfull:h.Screenfull,SimpleDrag:h.SimpleDrag};return i});