define("quickActionBar/quickAction/quickAction",["lodash","react"],function(a,b){"use strict";var c=b.createClass({propTypes:{id:b.PropTypes.string.isRequired,styleId:b.PropTypes.string.isRequired,svgString:b.PropTypes.string.isRequired,fillColor:b.PropTypes.string.isRequired,backgroundColor:b.PropTypes.string.isRequired,textColor:b.PropTypes.string.isRequired,text:b.PropTypes.string.isRequired,href:b.PropTypes.string,clickHandler:b.PropTypes.func,notificationCount:b.PropTypes.number},render:function(){return b.DOM.a({className:this.props.styleId+"_action",style:{backgroundColor:this.props.backgroundColor,color:this.props.textColor},href:this.props.href,onClick:this.props.clickHandler},[b.DOM.div({className:this.props.styleId+"_icon",key:this.props.id+"_icon",style:{fill:this.props.fillColor},dangerouslySetInnerHTML:{__html:this.props.svgString}},null),b.DOM.div({className:this.props.styleId+"_text",key:"text"},this.props.text),b.DOM.div({className:this.props.styleId+"_notifications",key:this.props.id+"_notifications",style:{display:a.get(this.props,"notificationCount",0)>0?"initial":"none"}},null)])}});return c});define("quickActionBar/utils/quickActionUtils",["lodash"],function(a){"use strict";var b={black:"#000",grey:"#888"};function c(c,d){var e=a.get(b,d.colorScheme);return d.invertColors?{fillColor:"#fff",backgroundColor:e||c.color,textColor:"#fff"}:{fillColor:e||c.color,backgroundColor:"#fff",textColor:e||"#000"}}return{resolveIconColors:c}});define("quickActionBar/utils/quickActionBarDataRequirementsChecker",["core","lodash","utils"],function(a,b,c){"use strict";var d=a.dataRequirementsChecker;var e=c.svg;var f=c.constants.SUPPORTED_DYNAMIC_ACTIONS;function g(a,c){var d="svgshape.v2.Svg_"+c;if(b.has(a.svgShapes,d)){return}return e.createSvgFetchRequest(a.serviceTopology.mediaRootUrl,a.svgShapes,d)}function h(a){var c=b.map(a.getClientSpecMap(),"appDefinitionId");return b(f).values().filter(function(a){return b.includes(c,a.appId)}).map(function(b){return g(a,b.icon)}).compact().value()}d.registerCheckerForCompType("wysiwyg.viewer.components.QuickActionBar",h)});define("quickActionBar",["lodash","react","core","santaProps","quickActionBar/quickAction/quickAction","quickActionBar/utils/quickActionUtils","quickActionBar/utils/quickActionBarDataRequirementsChecker"],function(a,b,c,d,e,f){"use strict";return{displayName:"QuickActionBar",mixins:[c.compMixins.skinBasedComp],propTypes:{compProp:d.Types.Component.compProp.isRequired,siteScrollingBlocker:d.Types.SiteAspects.siteScrollingBlocker.isRequired,styleId:d.Types.Component.styleId.isRequired,serviceTopology:d.Types.ServiceTopology.serviceTopology.isRequired,loadBatch:d.Types.StoreSantaTypes.loadBatch.isRequired,dynamicActions:d.Types.QuickActions.dynamicActions},getInitialState:function(){return{isOpen:false}},toggleActionBar:function(){this.setState({isOpen:!this.state.isOpen})},componentDidUpdate:function(){this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,this.state.isOpen)},getActions:function(){return a(this.props.dynamicActions).filter("enabled").take(5).value()},createActionComponent:function(c,d){var g=f.resolveIconColors(c,this.props.compProp);var h=a.assign({id:this.props.id+"_"+d,clickHandler:c.appId?a.partial(this.handleAction,c.appId):a.noop},a.pick(this.props,["styleId"]),a.pick(c,["text","href","svgString","notificationCount"]),a.pick(g,["fillColor","backgroundColor","textColor"]));return b.createElement(e,h)},createActionComponents:function(){return a.map(this.getActions(),this.createActionComponent)},getSkinProperties:function(){var a={"hide-text":this.props.compProp.hideText,closed:!this.state.isOpen};a["align-"+this.props.compProp.alignment]=true;a["action-count-"+this.getActions().length]=true;return{"":{className:this.classSet(a)},overlay:{onClick:this.toggleActionBar},controlButton:{onClick:this.toggleActionBar},actionsContainer:{children:this.createActionComponents()}}}}});